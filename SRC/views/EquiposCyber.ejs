<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Renta Cyber</title>
    <link rel="stylesheet" href="/CSS/EquiposCyber.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
<div class="container-fluid">
<div class="row">
    <div class="col-md-2 col-lg-1 col-xl-1">
        <div class="sidebar">
            <div class="logo_content">
                <div class="logo">
                    <div class="row">
                        <div class="col">
                            <i class="bi bi-pc"></i>
                        </div>
                        <div class="col">
                            <div class="logo_name">Cyber</div>
                        </div>
                    </div>
                </div>
                <i class='bx bx-menu-alt-left' id="btn"></i>
            </div>
            <ul class="nav_list">
                <li class="my-1">
                    <a href="/Operis/CyberDisp" class="nav-link">
                        <i class="bi bi-pc-display-horizontal"></i>
                        <span class="links-name">Disponibilidad</span>
                    </a>
                    <span class="tooltip">Disponibilidad</span>
                </li>
                <li class="my-1">
                    <a href="">
                        <i class="bi bi-gpu-card"></i>
                        <span class="links-name">Gestionar equipos</span>
                    </a>
                    <span class="tooltip">Gestionar equipos</span>
                </li>
                <li class="my-1">
                    <a href="/Operis/direct">
                        <i class='bx bx-log-out' ></i>
                        <span class="links-name">Salir</span>
                    </a>
                    <span class="tooltip">Salir</span>
                </li>
            </ul>
        </div>
    </div>
    <div class="col-sm-12 col-md-10 col-lg-11 col-xl-11">
        <div class="row text-end mb-4">
            <i id="usericon" class='bx bx-user-circle bx-lg mt-2' style='color:#023f58'  ></i>
        </div>
        <div id="rowcard" class="row text-center">
            <div class="col"></div>
            <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 mb-3">
                <div class="card">
                    <div class="card-body">
                        <i class="bi bi-pc-display icon mb-2"></i>
                        <h4 class="card-title">Equipos Registrados</h4>
                        <div class="table-responsive">
                            <table class="table overflow-y-scroll overflow-x-hidden">
                                <thead class="table-black">
                                <tr>
                                    <th>ID</th>
                                    <th>Tarifa</th>
                                    <th>Accion</th>
                                </tr>
                                </thead>
                                <tbody class="table-secondary">
                                <%
                                for (let i in comp){
                                    %>
                                    <tr>
                                        <td><%=comp[i].idcomp%></td>
                                        <td><%=comp[i].hr_compu%></td>
                                        <td>
                                            <button type="button" data-bs-toggle="modal" data-bs-target="#modalForm<%=i%>" id="openmodal" class="btn btn-secondary mb-1">Modificar</button>
                                            <div class="modal fade"  id="modalForm<%=i%>" tabindex="-1" aria-labelledby="modalFormLabel" aria-hidden="true">
                                                <div class="modal-dialog modal-dialog-centered">
                                                    <div class="modal-content rounded-4">
                                                        <div class="modal-header" id="popupHeader">
                                                            <h4>Modificar equipo</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="container">
                                                                <div class="row text-center">
                                                                    <i class="bi bi-pc-horizontal icon"></i>
                                                                    <h5>ID</h5>
                                                                    <div class="row my-2">
                                                                        <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                                                                        <div class="col-sm-8 col-md-8 col-lg-10 col-xl-10">
                                                                            <% console.log(comp[i].idcomp);%>
                                                                            <input name="idmod" value="<%=comp[i].idcomp%>" type="text" class="form-control" disabled><!--Aqui va ir el id para que lo puedan visualizar-->
                                                                        </div>
                                                                        <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                                                                    </div>
                                                                    <h5>Tarifa</h5>
                                                                    <div class="row my-2">
                                                                        <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                                                                        <div class="col-sm-8 col-md-8 col-lg-10 col-xl-10">
                                                                            <form action="/Operis/CyberDisp/GestionEquipos/ModEqui" method="post">
                                                                            <input value="<%=comp[i].hr_compu%>" name="hrnew" type="text" class="form-control">
                                                                        </div>
                                                                        <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-4"></div>
                                                                        <div class="col-4">
                                                                            <button name="idmod" value="<%=comp[i].idcomp%>" class="btn btn-outline-secondary">Guardar</button>
                                                                        </div>
                                                                        <div class="col-4"></div>
                                                                    </div>
                                                                            </form>
                                                                    <div class="row mt-2">
                                                                        <div class="col-4"></div>
                                                                        <div class="col-4">
                                                                            <button id="closemodal" class="btn btn-outline-danger" data-bs-dismiss="modal">Salir</button>
                                                                        </div>
                                                                        <div class="col-4"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <form action="/Operis/CyberDisp/GestionEquipos/DelEqui" method="post">
                                                <button value="<%=comp[i].idcomp%>" name="iddel" class="btn btn-danger">Eliminar</button>
                                            </form>
                                        </td>
                                    </tr>
                                <%
                                }
                                %>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col"></div>
            <div class="col-sm-12 col-md-5 col-lg-5 col-xl-5">
                <div class="card">
                    <div class="card-body">
                        <i class="bi bi-motherboard icon mb-2"></i>
                        <h4 class="card-title mb-3">Agregar equipo</h4>
                        <form action="/Operis/CyberDisp/GestionEquipos/AddEqui" method="post">
                            <h5 class="my-2">Tarifa</h5>
                            <div class="row">
                                <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                                <div class="col-sm-8 col-md-8 col-lg-10 col-xl-10">
                                    <input id="inputProblem" style="width: 100%;" value="" name="hrnew" type="text" class="form-control" required>
                                </div>
                                <div class="col-sm-2 col-md-2 col-lg-1 col-xl-1"></div>
                            </div>
                            <div class="row mt-5">
                                <div class="col-1"></div>
                                <div class="col-10">
                                    <button id="registrar" class="btn">Registrar</button>
                                </div>
                                <div class="col-1"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col">
            </div>
        </div>
    </div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script>
    let btn = document.querySelector("#btn");
    let sidebar = document.querySelector(".sidebar");

    btn.onclick = function (){
        sidebar.classList.toggle("active");
    }
    //modal
    const myModal = document.getElementById('myModal')
    const myInput = document.getElementById('myInput')

    myModal.addEventListener('shown.bs.modal', () => {
        myInput.focus()
    })
</script>
</body>
</html>